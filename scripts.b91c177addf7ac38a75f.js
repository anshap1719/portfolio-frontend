!function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){return o(e[s][1][t]||t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){"use strict";function n(t){this.getElement(t.element),this.x1=0,this.y1=0,this.name=t.name||!1,this.elToSetClassOn=t.elToSetClassOn||"body",this.direction=t.direction||"diagonal",this.customDirection=t.customDirection||{},this.validateInput("direction"),this.isPausedWhenNotInView=t.isPausedWhenNotInView||!1,this.states=t.states,this.stateTransitionSpeed=t.stateTransitionSpeed||1e3,this.previousTimeStamp=null,this.progress=0,this.isPaused=!1,this.isCleared=!1,this.isPausedBecauseNotInView=!1,this.context=this.canvas.getContext("2d"),this.channels={},this.channelsIndex=0,this.activeState=t.defaultStateName||"default-state",this.isChangingState=!1,this.currentColors=[],this.currentColorsPos=[],this.activetransitionSpeed=null,this.eventPolyfill(),this.scrollDebounceThreshold=t.scrollDebounceThreshold||300,this.scrollDebounceTimeout=null,this.isImgLoaded=!1,this.isCanvasInWindowView=!1,this.firstScrollInit=!0,this.animating=!1,this.gradientLength=this.states[this.activeState].gradients[0].length,t.image&&t.image.source&&(this.image={source:t.image.source,position:t.image.position||["center","center"],stretchMode:t.image.stretchMode||!1,blendingMode:t.image.blendingMode||!1}),this.events={start:new CustomEvent("granim:start"),end:new CustomEvent("granim:end"),gradientChange:function(t){return new CustomEvent("granim:gradientChange",{detail:{isLooping:t.isLooping,colorsFrom:t.colorsFrom,colorsTo:t.colorsTo,activeState:t.activeState},bubbles:!1,cancelable:!1})}},this.callbacks={onStart:"function"==typeof t.onStart&&t.onStart,onGradientChange:"function"==typeof t.onGradientChange&&t.onGradientChange,onEnd:"function"==typeof t.onEnd&&t.onEnd},this.getDimensions(),this.canvas.setAttribute("width",this.x1),this.canvas.setAttribute("height",this.y1),this.setColors(),this.image&&(this.validateInput("image"),this.prepareImage()),this.pauseWhenNotInViewNameSpace=this.pauseWhenNotInView.bind(this),this.setSizeAttributesNameSpace=this.setSizeAttributes.bind(this),this.onResize(),this.isPausedWhenNotInView?this.onScroll():this.image||(this.refreshColorsAndPos(),this.animation=requestAnimationFrame(this.animateColors.bind(this)),this.animating=!0),this.callbacks.onStart&&this.callbacks.onStart(),this.canvas.dispatchEvent(this.events.start)}n.prototype.animateColors=t("./animateColors.js"),n.prototype.changeBlendingMode=t("./changeBlendingMode.js"),n.prototype.changeDirection=t("./changeDirection.js"),n.prototype.changeState=t("./changeState.js"),n.prototype.clear=t("./clear.js"),n.prototype.convertColorToRgba=t("./convertColorToRgba.js"),n.prototype.destroy=t("./destroy.js"),n.prototype.eventPolyfill=t("./eventPolyfill.js"),n.prototype.getColor=t("./getColor.js"),n.prototype.getColorDiff=t("./getColorDiff.js"),n.prototype.getColorPos=t("./getColorPos.js"),n.prototype.getColorPosDiff=t("./getColorPosDiff.js"),n.prototype.getCurrentColors=t("./getCurrentColors.js"),n.prototype.getCurrentColorsPos=t("./getCurrentColorsPos.js"),n.prototype.getDimensions=t("./getDimensions.js"),n.prototype.getElement=t("./getElement.js"),n.prototype.getLightness=t("./getLightness.js"),n.prototype.makeGradient=t("./makeGradient.js"),n.prototype.onResize=t("./onResize.js"),n.prototype.onScroll=t("./onScroll.js"),n.prototype.pause=t("./pause.js"),n.prototype.pauseWhenNotInView=t("./pauseWhenNotInView.js"),n.prototype.play=t("./play.js"),n.prototype.prepareImage=t("./prepareImage.js"),n.prototype.refreshColorsAndPos=t("./refreshColorsAndPos.js"),n.prototype.setColors=t("./setColors.js"),n.prototype.setDirection=t("./setDirection.js"),n.prototype.setSizeAttributes=t("./setSizeAttributes.js"),n.prototype.triggerError=t("./triggerError.js"),n.prototype.validateInput=t("./validateInput.js"),e.exports=n},{"./animateColors.js":2,"./changeBlendingMode.js":3,"./changeDirection.js":4,"./changeState.js":5,"./clear.js":6,"./convertColorToRgba.js":7,"./destroy.js":8,"./eventPolyfill.js":9,"./getColor.js":10,"./getColorDiff.js":11,"./getColorPos.js":12,"./getColorPosDiff.js":13,"./getCurrentColors.js":14,"./getCurrentColorsPos.js":15,"./getDimensions.js":16,"./getElement.js":17,"./getLightness.js":18,"./makeGradient.js":19,"./onResize.js":20,"./onScroll.js":21,"./pause.js":22,"./pauseWhenNotInView.js":23,"./play.js":24,"./prepareImage.js":25,"./refreshColorsAndPos.js":26,"./setColors.js":27,"./setDirection.js":28,"./setSizeAttributes.js":29,"./triggerError.js":30,"./validateInput.js":31}],2:[function(t,e,i){"use strict";e.exports=function(t){var e,i,n,o=void 0===this.states[this.activeState].loop||this.states[this.activeState].loop;(null===this.previousTimeStamp||t-this.previousTimeStamp>100)&&(this.previousTimeStamp=t),this.progress=this.progress+(t-this.previousTimeStamp),e=(this.progress/this.activetransitionSpeed*100).toFixed(2),this.previousTimeStamp=t,this.refreshColorsAndPos(e),e<100?this.animation=requestAnimationFrame(this.animateColors.bind(this)):this.channelsIndex<this.states[this.activeState].gradients.length-2||o?(this.isChangingState&&(this.activetransitionSpeed=this.states[this.activeState].transitionSpeed||5e3,this.isChangingState=!1),this.previousTimeStamp=null,this.progress=0,this.channelsIndex++,i=!1,this.channelsIndex===this.states[this.activeState].gradients.length-1?i=!0:this.channelsIndex===this.states[this.activeState].gradients.length&&(this.channelsIndex=0),n=void 0===this.states[this.activeState].gradients[this.channelsIndex+1]?this.states[this.activeState].gradients[0]:this.states[this.activeState].gradients[this.channelsIndex+1],this.setColors(),this.animation=requestAnimationFrame(this.animateColors.bind(this)),this.callbacks.onGradientChange&&this.callbacks.onGradientChange({isLooping:i,colorsFrom:this.states[this.activeState].gradients[this.channelsIndex],colorsTo:n,activeState:this.activeState}),this.canvas.dispatchEvent(this.events.gradientChange({isLooping:i,colorsFrom:this.states[this.activeState].gradients[this.channelsIndex],colorsTo:n,activeState:this.activeState}))):(cancelAnimationFrame(this.animation),this.callbacks.onEnd&&this.callbacks.onEnd(),this.canvas.dispatchEvent(new CustomEvent("granim:end")))}},{}],3:[function(t,e,i){"use strict";e.exports=function(t){this.context.clearRect(0,0,this.x1,this.y1),this.context.globalCompositeOperation=this.image.blendingMode=t,this.validateInput("blendingMode"),this.isPaused&&this.refreshColorsAndPos()}},{}],4:[function(t,e,i){"use strict";e.exports=function(t){this.context.clearRect(0,0,this.x1,this.y1),this.direction=t,this.validateInput("direction"),this.isPaused&&this.refreshColorsAndPos()}},{}],5:[function(t,e,i){"use strict";e.exports=function(t){var e=this;this.activeState!==t&&(this.isPaused||(this.isPaused=!0,this.pause()),this.channelsIndex=-1,this.activetransitionSpeed=this.stateTransitionSpeed,this.activeColorsDiff=[],this.activeColorsPosDiff=[],this.activeColors=this.getCurrentColors(),this.activeColorsPos=this.getCurrentColorsPos(),this.progress=0,this.previousTimeStamp=null,this.isChangingState=!0,this.states[t].gradients[0].forEach(function(t,i,n){var o=e.convertColorToRgba(e.getColor(t)),r=e.getColorPos(t,i),s=e.getColorDiff(e.activeColors[i],o),a=e.getColorPosDiff(e.activeColorsPos[i],r);e.activeColorsDiff.push(s),e.activeColorsPosDiff.push(a)}),this.activeState=t,this.play())}},{}],6:[function(t,e,i){"use strict";e.exports=function(){this.isPaused?this.isPaused=!1:cancelAnimationFrame(this.animation),this.isCleared=!0,this.context.clearRect(0,0,this.x1,this.y1)}},{}],7:[function(t,e,i){"use strict";function n(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function o(t,e,i,o){var r,s,a,c,l;return 0===e?r=s=a=i:(r=n(l=2*i-(c=i<.5?i*(1+e):i+e-i*e),c,t+1/3),s=n(l,c,t),a=n(l,c,t-1/3)),[Math.round(255*r),Math.round(255*s),Math.round(255*a),o]}var r,s={hexa:/^#(?:[0-9a-fA-F]{3}){1,2}$/,rgba:/^rgba\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3}), ?(.?\d{1,3})\)$/,rgb:/^rgb\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)$/,hsla:/^hsla\((\d{1,3}), ?(\d{1,3})%, ?(\d{1,3})%, ?(.?\d{1,3})\)$/,hsl:/^hsl\((\d{1,3}), ?(\d{1,3})%, ?(\d{1,3})%\)$/};e.exports=function(t){switch(function(t){for(var e=Object.keys(s),i=0;i<e.length;i++)if(r=s[e[i]].exec(t))return e[i];return!1}(t)){default:this.triggerError("colorType");case"hexa":return function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1]:null}(t);case"rgba":return[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4])];case"rgb":return[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),1];case"hsla":return o(parseInt(r[1],10)/360,parseInt(r[2],10)/100,parseInt(r[3],10)/100,parseFloat(r[4]));case"hsl":return o(parseInt(r[1],10)/360,parseInt(r[2],10)/100,parseInt(r[3],10)/100,1)}}},{}],8:[function(t,e,i){"use strict";e.exports=function(){this.onResize("removeListeners"),this.onScroll("removeListeners"),this.clear()}},{}],9:[function(t,e,i){"use strict";e.exports=function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}},{}],10:[function(t,e,i){"use strict";e.exports=function(t){return"string"==typeof t?t:"object"==typeof t&&t.color?t.color:void this.triggerError("gradient.color")}},{}],11:[function(t,e,i){"use strict";e.exports=function(t,e){for(var i=0,n=[];i<4;i++)n.push(e[i]-t[i]);return n}},{}],12:[function(t,e,i){"use strict";e.exports=function(t,e){return"object"==typeof t&&t.pos?t.pos:parseFloat(e?(1/(this.gradientLength-1)*e).toFixed(2):0)}},{}],13:[function(t,e,i){"use strict";e.exports=function(t,e){return e-t}},{}],14:[function(t,e,i){"use strict";e.exports=function(){var t,e,i=[];for(t=0;t<this.currentColors.length;t++)for(i.push([]),e=0;e<4;e++)i[t].push(this.currentColors[t][e]);return i}},{}],15:[function(t,e,i){"use strict";e.exports=function(){var t,e=[];for(t=0;t<this.currentColorsPos.length;t++)e.push(this.currentColorsPos[t]);return e}},{}],16:[function(t,e,i){"use strict";e.exports=function(){this.x1=this.canvas.offsetWidth,this.y1=this.canvas.offsetHeight}},{}],17:[function(t,e,i){"use strict";e.exports=function(t){if(t instanceof HTMLCanvasElement)this.canvas=t;else{if("string"!=typeof t)throw new Error("The element you used is neither a String, nor a HTMLCanvasElement");this.canvas=document.querySelector(t)}if(!this.canvas)throw new Error("`"+t+"` could not be found in the DOM")}},{}],18:[function(t,e,i){"use strict";e.exports=function(){var t,e,i=null,n=this.getCurrentColors().map(function(t){return Math.max(t[0],t[1],t[2])});for(e=0;e<n.length;e++)i=null===i?n[e]:i+n[e],e===n.length-1&&(t=Math.round(i/(e+1)));return t>=128?"light":"dark"}},{}],19:[function(t,e,i){"use strict";e.exports=function(){var t=this.setDirection(),e=document.querySelector(this.elToSetClassOn).classList,i=0;for(this.context.clearRect(0,0,this.x1,this.y1),this.image&&this.context.drawImage(this.imageNode,this.imagePosition.x,this.imagePosition.y,this.imagePosition.width,this.imagePosition.height);i<this.currentColors.length;i++)t.addColorStop(this.currentColorsPos[i],"rgba("+this.currentColors[i][0]+", "+this.currentColors[i][1]+", "+this.currentColors[i][2]+", "+this.currentColors[i][3]+")");this.name&&("light"===this.getLightness()?(e.remove(this.name+"-dark"),e.add(this.name+"-light")):(e.remove(this.name+"-light"),e.add(this.name+"-dark"))),this.context.fillStyle=t,this.context.fillRect(0,0,this.x1,this.y1)}},{}],20:[function(t,e,i){"use strict";e.exports=function(t){return"removeListeners"===t?void window.removeEventListener("resize",this.setSizeAttributesNameSpace):void window.addEventListener("resize",this.setSizeAttributesNameSpace)}},{}],21:[function(t,e,i){"use strict";e.exports=function(t){return"removeListeners"===t?void window.removeEventListener("scroll",this.pauseWhenNotInViewNameSpace):(window.addEventListener("scroll",this.pauseWhenNotInViewNameSpace),void this.pauseWhenNotInViewNameSpace())}},{}],22:[function(t,e,i){"use strict";e.exports=function(t){this.isCleared||("isPausedBecauseNotInView"===t||(this.isPaused=!0),cancelAnimationFrame(this.animation),this.animating=!1)}},{}],23:[function(t,e,i){"use strict";e.exports=function(){var t=this;this.scrollDebounceTimeout&&clearTimeout(this.scrollDebounceTimeout),this.scrollDebounceTimeout=setTimeout(function(){var e=t.canvas.getBoundingClientRect();if(t.isCanvasInWindowView=!(e.bottom<0||e.right<0||e.left>window.innerWidth||e.top>window.innerHeight),t.isCanvasInWindowView){if(!t.isPaused||t.firstScrollInit){if(t.image&&!t.isImgLoaded)return;t.isPausedBecauseNotInView=!1,t.play("isPlayedBecauseInView"),t.firstScrollInit=!1}}else!t.image&&t.firstScrollInit&&(t.refreshColorsAndPos(),t.firstScrollInit=!1),t.isPaused||t.isPausedBecauseNotInView||(t.isPausedBecauseNotInView=!0,t.pause("isPausedBecauseNotInView"))},this.scrollDebounceThreshold)}},{}],24:[function(t,e,i){"use strict";e.exports=function(t){"isPlayedBecauseInView"===t||(this.isPaused=!1),this.isCleared=!1,this.animating||(this.animation=requestAnimationFrame(this.animateColors.bind(this)),this.animating=!0)}},{}],25:[function(t,e,i){"use strict";e.exports=function(){function t(){function t(t){var i=e[t+"1"],n=e["x"===t?"imgOriginalWidth":"imgOriginalHeight"],o="x"===t?e.image.position[0]:e.image.position[1];switch(o){case"center":e.imagePosition[t]=n>i?-(n-i)/2:(i-n)/2,e.imagePosition["x"===t?"width":"height"]=n;break;case"top":e.imagePosition.y=0,e.imagePosition.height=n;break;case"bottom":e.imagePosition.y=i-n,e.imagePosition.height=n;break;case"right":e.imagePosition.x=i-n,e.imagePosition.width=n;break;case"left":e.imagePosition.x=0,e.imagePosition.width=n}if(e.image.stretchMode)switch(o="x"===t?e.image.stretchMode[0]:e.image.stretchMode[1]){case"none":break;case"stretch":e.imagePosition[t]=0,e.imagePosition["x"===t?"width":"height"]=i;break;case"stretch-if-bigger":if(n<i)break;e.imagePosition[t]=0,e.imagePosition["x"===t?"width":"height"]=i;break;case"stretch-if-smaller":if(n>i)break;e.imagePosition[t]=0,e.imagePosition["x"===t?"width":"height"]=i}}var i;for(i=0;i<2;i++)t(i?"y":"x")}var e=this;return this.imagePosition||(this.imagePosition={x:0,y:0,width:0,height:0}),this.image.blendingMode&&(this.context.globalCompositeOperation=this.image.blendingMode),this.imageNode?void t():(this.imageNode=new Image,this.imageNode.onerror=function(){throw new Error("Granim: The image source is invalid.")},this.imageNode.onload=function(){e.imgOriginalWidth=e.imageNode.width,e.imgOriginalHeight=e.imageNode.height,t(),e.refreshColorsAndPos(),e.isPausedWhenNotInView&&!e.isCanvasInWindowView||(e.animation=requestAnimationFrame(e.animateColors.bind(e))),e.isImgLoaded=!0},void(this.imageNode.src=this.image.source))}},{}],26:[function(t,e,i){"use strict";e.exports=function(t){var e,i,n,o,r=this;for(n=0;n<this.activeColors.length;n++){for(o=0;o<4;o++)(e=r.activeColors[n][o]+(3!==o?Math.ceil(r.activeColorsDiff[n][o]/100*t):Math.round(r.activeColorsDiff[n][o]/100*t*100)/100))<=255&&e>=0&&(r.currentColors[n][o]=e);(i=parseFloat((r.activeColorsPos[n]+r.activeColorsPosDiff[n]/100*t).toFixed(4)))<=1&&i>=0&&(r.currentColorsPos[n]=i)}this.makeGradient()}},{}],27:[function(t,e,i){"use strict";e.exports=function(){var t,e,i,n,o=this;return this.channels[this.activeState]||(this.channels[this.activeState]=[]),void 0!==this.channels[this.activeState][this.channelsIndex]?(this.activeColors=this.channels[this.activeState][this.channelsIndex].colors,this.activeColorsDiff=this.channels[this.activeState][this.channelsIndex].colorsDiff,this.activeColorsPos=this.channels[this.activeState][this.channelsIndex].colorsPos,void(this.activeColorsPosDiff=this.channels[this.activeState][this.channelsIndex].colorsPosDiff)):(this.channels[this.activeState].push([{}]),this.channels[this.activeState][this.channelsIndex].colors=[],this.channels[this.activeState][this.channelsIndex].colorsDiff=[],this.channels[this.activeState][this.channelsIndex].colorsPos=[],this.channels[this.activeState][this.channelsIndex].colorsPosDiff=[],this.activeColors=[],this.activeColorsDiff=[],this.activeColorsPos=[],this.activeColorsPosDiff=[],this.states[this.activeState].gradients[this.channelsIndex].forEach(function(r,s){var a=o.getColorPos(r,s),c=(r=o.getColor(r),o.convertColorToRgba(r)),l=o.channels[o.activeState];l[o.channelsIndex].colors.push(c),o.activeColors.push(c),l[o.channelsIndex].colorsPos.push(a),o.activeColorsPos.push(a),o.isCurrentColorsSet||(o.currentColors.push(o.convertColorToRgba(r)),o.currentColorsPos.push(a)),o.channelsIndex===o.states[o.activeState].gradients.length-1?(t=o.getColorDiff(l[o.channelsIndex].colors[s],l[0].colors[s]),e=o.getColorPosDiff(l[o.channelsIndex].colorsPos[s],l[0].colorsPos[s])):(i=o.convertColorToRgba(o.getColor(o.states[o.activeState].gradients[o.channelsIndex+1][s])),n=o.getColorPos(o.states[o.activeState].gradients[o.channelsIndex+1][s],s),t=o.getColorDiff(l[o.channelsIndex].colors[s],i),e=o.getColorPosDiff(l[o.channelsIndex].colorsPos[s],n)),l[o.channelsIndex].colorsDiff.push(t),o.activeColorsDiff.push(t),l[o.channelsIndex].colorsPosDiff.push(e),o.activeColorsPosDiff.push(e)}),this.activetransitionSpeed=this.states[this.activeState].transitionSpeed||5e3,void(this.isCurrentColorsSet=!0))}},{}],28:[function(t,e,i){"use strict";function n(t,e){return t.indexOf("%")>-1?e/100*parseInt(t.split("%")[0],10):parseInt(t.split("px")[0],10)}e.exports=function(){var t=this.context;switch(this.direction){case"diagonal":return t.createLinearGradient(0,0,this.x1,this.y1);case"left-right":return t.createLinearGradient(0,0,this.x1,0);case"top-bottom":return t.createLinearGradient(this.x1/2,0,this.x1/2,this.y1);case"radial":return t.createRadialGradient(this.x1/2,this.y1/2,this.x1/2,this.x1/2,this.y1/2,0);case"custom":return t.createLinearGradient(n(this.customDirection.x0,this.x1),n(this.customDirection.y0,this.y1),n(this.customDirection.x1,this.x1),n(this.customDirection.y1,this.y1))}}},{}],29:[function(t,e,i){"use strict";e.exports=function(){this.getDimensions(),this.canvas.setAttribute("width",this.x1),this.canvas.setAttribute("height",this.y1),this.image&&this.prepareImage(),this.refreshColorsAndPos()}},{}],30:[function(t,e,i){"use strict";e.exports=function(t){throw new Error('Granim: Input error on "'+t+'" option.\nCheck the API https://sarcadass.github.io/granim.js/api.html.')}},{}],31:[function(t,e,i){"use strict";e.exports=function(t){var e=["none","stretch","stretch-if-smaller","stretch-if-bigger"];switch(t){case"image":Array.isArray(this.image.position)&&2===this.image.position.length&&-1!==["left","center","right"].indexOf(this.image.position[0])&&-1!==["top","center","bottom"].indexOf(this.image.position[1])||this.triggerError("image.position"),this.image.stretchMode&&(Array.isArray(this.image.stretchMode)&&2===this.image.stretchMode.length&&-1!==e.indexOf(this.image.stretchMode[0])&&-1!==e.indexOf(this.image.stretchMode[1])||this.triggerError("image.stretchMode"));break;case"blendingMode":-1===["multiply","screen","normal","overlay","darken","lighten","lighter","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"].indexOf(this.image.blendingMode)&&(this.clear(),this.triggerError("blendingMode"));break;case"direction":-1===["diagonal","left-right","top-bottom","radial","custom"].indexOf(this.direction)?this.triggerError("direction"):"custom"===this.direction&&(function(t){for(var e,i=!0,n=0;i&&n<t.length;){if("string"!=typeof(e=t[n]))i=!1;else{var o,r=null;-1!==e.indexOf("px")&&(r="px"),-1!==e.indexOf("%")&&(r="%"),o=e.split(r).filter(function(t){return t.length>0}),(!r||o.length>2||!o[0]||o[1]||!/^-?\d+\.?\d*$/.test(o[0]))&&(i=!1)}n++}return i}([this.customDirection.x0,this.customDirection.x1,this.customDirection.y0,this.customDirection.y1])||this.triggerError("customDirection"))}}},{}],32:[function(t,e,i){window.Granim=t("./lib/Granim.js")},{"./lib/Granim.js":1}]},{},[32]),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ScrollReveal=e()}(this,function(){"use strict";var t={delay:0,distance:"0",duration:600,easing:"cubic-bezier(0.5, 0, 0, 1)",interval:0,opacity:0,origin:"bottom",rotate:{x:0,y:0,z:0},scale:1,cleanup:!1,container:document.documentElement,desktop:!0,mobile:!0,reset:!1,useDelay:"always",viewFactor:0,viewOffset:{top:0,right:0,bottom:0,left:0},afterReset:function(){},afterReveal:function(){},beforeReset:function(){},beforeReveal:function(){}},e={success:function(){document.documentElement.classList.add("sr"),document.body?document.body.style.height="100%":document.addEventListener("DOMContentLoaded",function(){document.body.style.height="100%"})},failure:function(){return document.documentElement.classList.remove("sr"),{clean:function(){},destroy:function(){},reveal:function(){},sync:function(){},get noop(){return!0}}}};function i(t){return"object"==typeof window.Node?t instanceof window.Node:null!==t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}function n(t,e){if(void 0===e&&(e=document),t instanceof Array)return t.filter(i);if(i(t))return[t];if(n=t,o=Object.prototype.toString.call(n),"object"==typeof window.NodeList?n instanceof window.NodeList:null!==n&&"object"==typeof n&&"number"==typeof n.length&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(o)&&(0===n.length||i(n[0])))return Array.prototype.slice.call(t);var n,o;if("string"==typeof t)try{var r=e.querySelectorAll(t);return Array.prototype.slice.call(r)}catch(s){return[]}return[]}function o(t){return null!==t&&t instanceof Object&&(t.constructor===Object||"[object Object]"===Object.prototype.toString.call(t))}function r(t,e){if(o(t))return Object.keys(t).forEach(function(i){return e(t[i],i,t)});if(t instanceof Array)return t.forEach(function(i,n){return e(i,n,t)});throw new TypeError("Expected either an array or object literal.")}function s(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];if(this.constructor.debug&&console){var n="%cScrollReveal: "+t;e.forEach(function(t){return n+="\n \u2014 "+t}),console.log(n,"color: #ea654b;")}}function a(){var t=this,e={active:[],stale:[]},i={active:[],stale:[]},o={active:[],stale:[]};try{r(n("[data-sr-id]"),function(t){var i=parseInt(t.getAttribute("data-sr-id"));e.active.push(i)})}catch(s){throw s}r(this.store.elements,function(t){-1===e.active.indexOf(t.id)&&e.stale.push(t.id)}),r(e.stale,function(e){return delete t.store.elements[e]}),r(this.store.elements,function(t){-1===o.active.indexOf(t.containerId)&&o.active.push(t.containerId),t.hasOwnProperty("sequence")&&-1===i.active.indexOf(t.sequence.id)&&i.active.push(t.sequence.id)}),r(this.store.containers,function(t){-1===o.active.indexOf(t.id)&&o.stale.push(t.id)}),r(o.stale,function(e){var i=t.store.containers[e].node;i.removeEventListener("scroll",t.delegate),i.removeEventListener("resize",t.delegate),delete t.store.containers[e]}),r(this.store.sequences,function(t){-1===i.active.indexOf(t.id)&&i.stale.push(t.id)}),r(i.stale,function(e){return delete t.store.sequences[e]})}function c(t){var e,i=this;try{r(n(t),function(t){var n=t.getAttribute("data-sr-id");if(null!==n){e=!0;var o=i.store.elements[n];o.callbackTimer&&window.clearTimeout(o.callbackTimer.clock),t.setAttribute("style",o.styles.inline.generated),t.removeAttribute("data-sr-id"),delete i.store.elements[n]}})}catch(o){return s.call(this,"Clean failed.",o.message)}if(e)try{a.call(this)}catch(o){return s.call(this,"Clean failed.",o.message)}}function l(t){if(t.constructor!==Array)throw new TypeError("Expected array.");if(16===t.length)return t;if(6===t.length){var e=u();return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}throw new RangeError("Expected array with either 6 or 16 values.")}function u(){for(var t=[],e=0;e<16;e++)t.push(e%5==0?1:0);return t}function h(t,e){for(var i=l(t),n=l(e),o=[],r=0;r<4;r++)for(var s=[i[r],i[r+4],i[r+8],i[r+12]],a=0;a<4;a++){var c=4*a,u=[n[c],n[c+1],n[c+2],n[c+3]];o[r+c]=s[0]*u[0]+s[1]*u[1]+s[2]*u[2]+s[3]*u[3]}return o}function d(t){if("string"==typeof t){var e=t.match(/matrix(3d)?\(([^)]+)\)/);if(e)return l(e[2].split(", ").map(parseFloat))}return u()}var f=function(){var t={},e=document.documentElement.style;function i(i,n){if(void 0===n&&(n=e),i&&"string"==typeof i){if(t[i])return t[i];if("string"==typeof n[i])return t[i]=i;if("string"==typeof n["-webkit-"+i])return t[i]="-webkit-"+i;throw new RangeError('Unable to find "'+i+'" style property.')}throw new TypeError("Expected a string.")}return i.clearCache=function(){return t={}},i}();function p(t,e){void 0===e&&(e={});var i=!t.visible&&t.revealed&&t.config.reset;return e.reveal||t.visible&&!t.revealed?(function(t,e){var i=[t.styles.inline.generated,t.styles.opacity.computed,t.styles.transform.generated.final];i.push(e?t.styles.transition.generated.delayed:t.styles.transition.generated.instant),t.revealed=t.seen=!0,t.node.setAttribute("style",i.filter(function(t){return""!==t}).join(" ")),g.call(this,t,e)}).call(this,t,"always"===t.config.useDelay||"onload"===t.config.useDelay&&(e.pristine||this.pristine)||"once"===t.config.useDelay&&!t.seen):e.reset||i?(function(t){var e=[t.styles.inline.generated,t.styles.opacity.generated,t.styles.transform.generated.initial,t.styles.transition.generated.instant];t.revealed=!1,t.node.setAttribute("style",e.filter(function(t){return""!==t}).join(" ")),g.call(this,t)}).call(this,t):void 0}function g(t,e){var i=this,n=e?t.config.duration+t.config.delay:t.config.duration,o=t.revealed?t.config.beforeReveal:t.config.beforeReset,r=t.revealed?t.config.afterReveal:t.config.afterReset,s=0;t.callbackTimer&&(s=Date.now()-t.callbackTimer.start,window.clearTimeout(t.callbackTimer.clock)),o(t.node),t.callbackTimer={start:Date.now(),clock:window.setTimeout(function(){r(t.node),t.callbackTimer=null,t.revealed&&!t.config.reset&&t.config.cleanup&&c.call(i,t.node)},n-s)}}var m,v=(m=0,function(){return m++});function y(t,e){if(void 0===e&&(e=this.pristine),!t.visible&&t.revealed&&t.config.reset)return p.call(this,t,{reset:!0});var i=this.store.sequences[t.sequence.id],n=t.sequence.index;if(i){var o=new w(i,"visible",this.store),r=new w(i,"revealed",this.store);if(i.models={visible:o,revealed:r},!r.body.length){var s=this.store.elements[i.members[o.body[0]]];if(s)return C.call(this,i,o.body[0],-1,e),C.call(this,i,o.body[0],1,e),p.call(this,s,{reveal:!0,pristine:e})}if(!i.blocked.head&&n===[].concat(r.head).pop()&&n>=[].concat(o.body).shift())return C.call(this,i,n,-1,e),p.call(this,t,{reveal:!0,pristine:e});if(!i.blocked.foot&&n===[].concat(r.foot).shift()&&n<=[].concat(o.body).pop())return C.call(this,i,n,1,e),p.call(this,t,{reveal:!0,pristine:e})}}function b(t){var e=Math.abs(t);if(isNaN(e))throw new RangeError("Invalid sequence interval.");this.id=v(),this.interval=Math.max(e,16),this.members=[],this.models={},this.blocked={head:!1,foot:!1}}function w(t,e,i){var n=this;this.head=[],this.body=[],this.foot=[],r(t.members,function(t,o){var r=i.elements[t];r&&r[e]&&n.body.push(o)}),this.body.length&&r(t.members,function(t,o){var r=i.elements[t];r&&!r[e]&&(o<n.body[0]?n.head.push(o):n.foot.push(o))})}function C(t,e,i,n){var o=this,r=["head",null,"foot"][1+i],s=this.store.elements[t.members[e+i]];t.blocked[r]=!0,setTimeout(function(){t.blocked[r]=!1,s&&y.call(o,s,n)},t.interval)}function x(){var t=this;a.call(this),r(this.store.elements,function(t){var e=[t.styles.inline.generated];t.visible?(e.push(t.styles.opacity.computed),e.push(t.styles.transform.generated.final),t.revealed=!0):(e.push(t.styles.opacity.generated),e.push(t.styles.transform.generated.initial),t.revealed=!1),t.node.setAttribute("style",e.filter(function(t){return""!==t}).join(" "))}),r(this.store.containers,function(e){var i=e.node===document.documentElement?window:e.node;i.addEventListener("scroll",t.delegate),i.addEventListener("resize",t.delegate)}),this.delegate(),this.initTimeout=null}function S(t){return void 0===t&&(t=navigator.userAgent),/Android|iPhone|iPad|iPod/i.test(t)}function E(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];if(o(t))return r(e,function(e){r(e,function(e,i){o(e)?(t[i]&&o(t[i])||(t[i]={}),E(t[i],e)):t[i]=e})}),t;throw new TypeError("Target must be an object literal.")}function P(e,i,o){var a=this;void 0===i&&(i={}),void 0===o&&(o=!1);var l,p=[],g=i.interval||t.interval;try{g&&(l=new b(g));var m=n(e);if(!m.length)throw new Error("Invalid reveal target.");var y=m.reduce(function(t,e){var o={},s=e.getAttribute("data-sr-id");s?(E(o,a.store.elements[s]),o.node.setAttribute("style",o.styles.inline.computed)):(o.id=v(),o.node=e,o.seen=!1,o.revealed=!1,o.visible=!1);var g=E({},o.config||a.defaults,i);if(!g.mobile&&S()||!g.desktop&&!S())return s&&c.call(a,o),t;var m,y=n(g.container)[0];if(!y)throw new Error("Invalid container.");return y.contains(e)?(null===(m=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];var n=null;return r(e,function(e){r(e,function(e){null===n&&e.node===t&&(n=e.id)})}),n}(y,p,a.store.containers))&&(m=v(),p.push({id:m,node:y})),o.config=g,o.containerId=m,o.styles=function(t){var e=window.getComputedStyle(t.node),i=e.position,n=t.config,o={},r=(t.node.getAttribute("style")||"").match(/[\w-]+\s*:\s*[^;]+\s*/gi)||[];o.computed=r?r.map(function(t){return t.trim()}).join("; ")+";":"",o.generated=r.some(function(t){return t.match(/visibility\s?:\s?visible/i)})?o.computed:r.concat(["visibility: visible"]).map(function(t){return t.trim()}).join("; ")+";";var s,a,c=parseFloat(e.opacity),l=isNaN(parseFloat(n.opacity))?parseFloat(e.opacity):parseFloat(n.opacity),p={computed:c!==l?"opacity: "+c+";":"",generated:c!==l?"opacity: "+l+";":""},g=[];if(parseFloat(n.distance)){var m="top"===n.origin||"bottom"===n.origin?"Y":"X",v=n.distance;"top"!==n.origin&&"left"!==n.origin||(v=/^-/.test(v)?v.substr(1):"-"+v);var y=v.match(/(^-?\d+\.?\d?)|(em$|px$|%$)/g),b=y[0];switch(y[1]){case"em":v=parseInt(e.fontSize)*b;break;case"px":v=b;break;case"%":v="Y"===m?t.node.getBoundingClientRect().height*b/100:t.node.getBoundingClientRect().width*b/100;break;default:throw new RangeError("Unrecognized or missing distance unit.")}g.push("Y"===m?function(t){var e=u();return e[13]=t,e}(v):function(t){var e=u();return e[12]=t,e}(v))}n.rotate.x&&g.push((s=Math.PI/180*n.rotate.x,(a=u())[5]=a[10]=Math.cos(s),a[6]=a[9]=Math.sin(s),a[9]*=-1,a)),n.rotate.y&&g.push(function(t){var e=Math.PI/180*n.rotate.y,i=u();return i[0]=i[10]=Math.cos(e),i[2]=i[8]=Math.sin(e),i[2]*=-1,i}()),n.rotate.z&&g.push(function(t){var e=Math.PI/180*n.rotate.z,i=u();return i[0]=i[5]=Math.cos(e),i[1]=i[4]=Math.sin(e),i[4]*=-1,i}()),1!==n.scale&&g.push(function(t,e){var i=u();return i[0]=t,i[5]=t,i}(0===n.scale?2e-4:n.scale));var w={};if(g.length){w.property=f("transform"),w.computed={raw:e[w.property],matrix:d(e[w.property])},g.unshift(w.computed.matrix);var C=g.reduce(h);w.generated={initial:w.property+": matrix3d("+C.join(", ")+");",final:w.property+": matrix3d("+w.computed.matrix.join(", ")+");"}}else w.generated={initial:"",final:""};var x={};if(p.generated||w.generated.initial){x.property=f("transition"),x.computed=e[x.property],x.fragments=[];var S=n.delay,E=n.duration,P=n.easing;p.generated&&x.fragments.push({delayed:"opacity "+E/1e3+"s "+P+" "+S/1e3+"s",instant:"opacity "+E/1e3+"s "+P+" 0s"}),w.generated.initial&&x.fragments.push({delayed:w.property+" "+E/1e3+"s "+P+" "+S/1e3+"s",instant:w.property+" "+E/1e3+"s "+P+" 0s"}),x.computed&&!x.computed.match(/all 0s/)&&x.fragments.unshift({delayed:x.computed,instant:x.computed});var I=x.fragments.reduce(function(t,e,i){return t.delayed+=0===i?e.delayed:", "+e.delayed,t.instant+=0===i?e.instant:", "+e.instant,t},{delayed:"",instant:""});x.generated={delayed:x.property+": "+I.delayed+";",instant:x.property+": "+I.instant+";"}}else x.generated={delayed:"",instant:""};return{inline:o,opacity:p,position:i,transform:w,transition:x}}(o),l&&(o.sequence={id:l.id,index:l.members.length},l.members.push(o.id)),t.push(o),t):t},[]);r(y,function(t){a.store.elements[t.id]=t,t.node.setAttribute("data-sr-id",t.id)})}catch(w){return s.call(this,"Reveal failed.",w.message)}r(p,function(t){a.store.containers[t.id]={id:t.id,node:t.node}}),l&&(this.store.sequences[l.id]=l),!0!==o&&(this.store.history.push({target:e,options:i}),this.initTimeout&&window.clearTimeout(this.initTimeout),this.initTimeout=window.setTimeout(x.bind(this),0))}var I,T=Math.sign||function(t){return(t>0)-(t<0)||+t},j=(I=Date.now(),function(t){var e=Date.now();e-I>16?(I=e,t(e)):setTimeout(function(){return j(t)},0)}),D=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||j;function A(t,e){var i=e?t.node.clientHeight:t.node.offsetHeight,n=e?t.node.clientWidth:t.node.offsetWidth,o=0,r=0,s=t.node;do{isNaN(s.offsetTop)||(o+=s.offsetTop),isNaN(s.offsetLeft)||(r+=s.offsetLeft),s=s.offsetParent}while(s);return{bounds:{top:o,right:r+n,bottom:o+i,left:r},height:i,width:n}}var L,O,N,k,F,z,M,R,q="4.0.5";function B(i){var o;if(void 0===i&&(i={}),void 0===this||Object.getPrototypeOf(this)!==B.prototype)return new B(i);if(!B.isSupported())return s.call(this,"Instantiation failed.","This browser is not supported."),e.failure();try{o=E({},z||t,i)}catch(a){return s.call(this,"Invalid configuration.",a.message),e.failure()}try{if(!n(o.container)[0])throw new Error("Invalid container.")}catch(a){return s.call(this,a.message),e.failure()}return!(z=o).mobile&&S()||!z.desktop&&!S()?(s.call(this,"This device is disabled.","desktop: "+z.desktop,"mobile: "+z.mobile),e.failure()):(e.success(),this.store={containers:{},elements:{},history:[],sequences:{}},this.pristine=!0,L=L||(function(t,e){var i=this;void 0===t&&(t={type:"init"}),void 0===e&&(e=this.store.elements),D(function(){var n="init"===t.type||"resize"===t.type;r(i.store.containers,function(t){n&&(t.geometry=A.call(i,t,!0));var e=(function(t){var e,i;return t.node===document.documentElement?(e=window.pageYOffset,i=window.pageXOffset):(e=t.node.scrollTop,i=t.node.scrollLeft),{top:e,left:i}}).call(i,t);t.scroll&&(t.direction={x:T(e.left-t.scroll.left),y:T(e.top-t.scroll.top)}),t.scroll=e}),r(e,function(t){n&&(t.geometry=A.call(i,t)),t.visible=(function(t){void 0===t&&(t={});var e=this.store.containers[t.containerId];if(e){var i=Math.max(0,Math.min(1,t.config.viewFactor)),n=t.config.viewOffset;return t.geometry.bounds.top+t.geometry.height*i<e.geometry.bounds.bottom+e.scroll.top-n.bottom&&t.geometry.bounds.right-t.geometry.width*i>e.geometry.bounds.left+e.scroll.left+n.left&&t.geometry.bounds.bottom-t.geometry.height*i>e.geometry.bounds.top+e.scroll.top+n.top&&t.geometry.bounds.left+t.geometry.width*i<e.geometry.bounds.right+e.scroll.left-n.right||"fixed"===t.styles.position}}).call(i,t)}),r(e,function(t){t.sequence?y.call(i,t):p.call(i,t)}),i.pristine=!1})}).bind(this),O=O||(function(){var t=this;r(this.store.elements,function(t){t.node.setAttribute("style",t.styles.inline.generated),t.node.removeAttribute("data-sr-id")}),r(this.store.containers,function(e){var i=e.node===document.documentElement?window:e.node;i.removeEventListener("scroll",t.delegate),i.removeEventListener("resize",t.delegate)}),this.store={containers:{},elements:{},history:[],sequences:{}}}).bind(this),N=N||P.bind(this),k=k||c.bind(this),F=F||(function(){var t=this;r(this.store.history,function(e){P.call(t,e.target,e.options,!0)}),x.call(this)}).bind(this),Object.defineProperty(this,"delegate",{get:function(){return L}}),Object.defineProperty(this,"destroy",{get:function(){return O}}),Object.defineProperty(this,"reveal",{get:function(){return N}}),Object.defineProperty(this,"clean",{get:function(){return k}}),Object.defineProperty(this,"sync",{get:function(){return F}}),Object.defineProperty(this,"defaults",{get:function(){return z}}),Object.defineProperty(this,"version",{get:function(){return q}}),Object.defineProperty(this,"noop",{get:function(){return!1}}),R||(R=this))}return B.isSupported=function(){return function(){var t=document.documentElement.style;return"transform"in t||"WebkitTransform"in t}()&&function(){var t=document.documentElement.style;return"transition"in t||"WebkitTransition"in t}()},Object.defineProperty(B,"debug",{get:function(){return M||!1},set:function(t){return M="boolean"==typeof t?t:M}}),B(),B}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.ScrollMagic=e()}(this,function(){"use strict";var t=function(){};t.version="2.0.7",window.addEventListener("mousewheel",function(){});var e="data-scrollmagic-pin-spacer";t.Controller=function(n){var r,s,a="REVERSE",c="PAUSED",l=i.defaults,u=this,h=o.extend({},l,n),d=[],f=!1,p=0,g=c,m=!0,v=0,y=!0,b=function(){0<h.refreshInterval&&(s=window.setTimeout(I,h.refreshInterval))},w=function(){return h.vertical?o.get.scrollTop(h.container):o.get.scrollLeft(h.container)},C=function(){return h.vertical?o.get.height(h.container):o.get.width(h.container)},x=this._setScrollPos=function(t){h.vertical?m?window.scrollTo(o.get.scrollLeft(),t):h.container.scrollTop=t:m?window.scrollTo(t,o.get.scrollTop()):h.container.scrollLeft=t},S=function(){if(y&&f){var t=o.type.Array(f)?f:d.slice(0);f=!1;var e=p,i=(p=u.scrollPos())-e;0!==i&&(g=0<i?"FORWARD":a),g===a&&t.reverse(),t.forEach(function(t,e){t.update(!0)})}},E=function(){r=o.rAF(S)},P=function(t){"resize"==t.type&&(v=C(),g=c),!0!==f&&(f=!0,E())},I=function(){if(!m&&v!=C()){var t;try{t=new Event("resize",{bubbles:!1,cancelable:!1})}catch(n){(t=document.createEvent("Event")).initEvent("resize",!1,!1)}h.container.dispatchEvent(t)}d.forEach(function(t,e){t.refresh()}),b()};this._options=h;var T=function(t){if(t.length<=1)return t;var e=t.slice(0);return e.sort(function(t,e){return t.scrollOffset()>e.scrollOffset()?1:-1}),e};return this.addScene=function(e){if(o.type.Array(e))e.forEach(function(t,e){u.addScene(t)});else if(e instanceof t.Scene)if(e.controller()!==u)e.addTo(u);else if(d.indexOf(e)<0)for(var i in d.push(e),d=T(d),e.on("shift.controller_sort",function(){d=T(d)}),h.globalSceneOptions)e[i]&&e[i].call(e,h.globalSceneOptions[i]);return u},this.removeScene=function(t){if(o.type.Array(t))t.forEach(function(t,e){u.removeScene(t)});else{var e=d.indexOf(t);-1<e&&(t.off("shift.controller_sort"),d.splice(e,1),t.remove())}return u},this.updateScene=function(e,i){return o.type.Array(e)?e.forEach(function(t,e){u.updateScene(t,i)}):i?e.update(!0):!0!==f&&e instanceof t.Scene&&(-1==(f=f||[]).indexOf(e)&&f.push(e),f=T(f),E()),u},this.update=function(t){return P({type:"resize"}),t&&S(),u},this.scrollTo=function(i,n){if(o.type.Number(i))x.call(h.container,i,n);else if(i instanceof t.Scene)i.controller()===u&&u.scrollTo(i.scrollOffset(),n);else if(o.type.Function(i))x=i;else{var r=o.get.elements(i)[0];if(r){for(;r.parentNode.hasAttribute(e);)r=r.parentNode;var s=h.vertical?"top":"left",a=o.get.offset(h.container),c=o.get.offset(r);m||(a[s]-=u.scrollPos()),u.scrollTo(c[s]-a[s],n)}}return u},this.scrollPos=function(t){return arguments.length?(o.type.Function(t)&&(w=t),u):w.call(u)},this.info=function(t){var e={size:v,vertical:h.vertical,scrollPos:p,scrollDirection:g,container:h.container,isDocument:m};return arguments.length?void 0!==e[t]?e[t]:void 0:e},this.loglevel=function(t){return u},this.enabled=function(t){return arguments.length?(y!=t&&(y=!!t,u.updateScene(d,!0)),u):y},this.destroy=function(t){window.clearTimeout(s);for(var e=d.length;e--;)d[e].destroy(t);return h.container.removeEventListener("resize",P),h.container.removeEventListener("scroll",P),o.cAF(r),null},function(){for(var t in h)l.hasOwnProperty(t)||delete h[t];if(h.container=o.get.elements(h.container)[0],!h.container)throw"ScrollMagic.Controller init failed.";(m=h.container===window||h.container===document.body||!document.body.contains(h.container))&&(h.container=window),v=C(),h.container.addEventListener("resize",P),h.container.addEventListener("scroll",P);var e=parseInt(h.refreshInterval,10);h.refreshInterval=o.type.Number(e)?e:l.refreshInterval,b()}(),u};var i={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};t.Controller.addOption=function(t,e){i.defaults[t]=e},t.Controller.extend=function(e){var i=this;t.Controller=function(){return i.apply(this,arguments),this.$super=o.extend({},this),e.apply(this,arguments)||this},o.extend(t.Controller,i),(t.Controller.prototype=i.prototype).constructor=t.Controller},t.Scene=function(i){var r,s,a="BEFORE",c="DURING",l="AFTER",u=n.defaults,h=this,d=o.extend({},u,i),f=a,p=0,g={start:0,end:0},m=0,v=!0,y={};this.on=function(t,e){return o.type.Function(e)&&(t=t.trim().split(" ")).forEach(function(t){var i=t.split("."),n=i[0],o=i[1];"*"!=n&&(y[n]||(y[n]=[]),y[n].push({namespace:o||"",callback:e}))}),h},this.off=function(t,e){return t&&(t=t.trim().split(" ")).forEach(function(t,i){var n=t.split("."),o=n[0],r=n[1]||"";("*"===o?Object.keys(y):[o]).forEach(function(t){for(var i=y[t]||[],n=i.length;n--;){var o=i[n];!o||r!==o.namespace&&"*"!==r||e&&e!=o.callback||i.splice(n,1)}i.length||delete y[t]})}),h},this.trigger=function(e,i){if(e){var n=e.trim().split("."),o=n[0],r=n[1],s=y[o];s&&s.forEach(function(e,n){r&&r!==e.namespace||e.callback.call(h,new t.Event(o,e.namespace,h,i))})}return h},h.on("change.internal",function(t){"loglevel"!==t.what&&"tweenChanges"!==t.what&&("triggerElement"===t.what?S():"reverse"===t.what&&h.update())}).on("shift.internal",function(t){C(),h.update()}),this.addTo=function(e){return e instanceof t.Controller&&s!=e&&(s&&s.removeScene(h),s=e,I(),x(!0),S(!0),C(),s.info("container").addEventListener("resize",E),e.addScene(h),h.trigger("add",{controller:s}),h.update()),h},this.enabled=function(t){return arguments.length?(v!=t&&(v=!!t,h.update(!0)),h):v},this.remove=function(){if(s){s.info("container").removeEventListener("resize",E);var t=s;s=void 0,t.removeScene(h),h.trigger("remove")}return h},this.destroy=function(t){return h.trigger("destroy",{reset:t}),h.remove(),h.off("*.*"),null},this.update=function(t){if(s)if(t)if(s.enabled()&&v){var e,i=s.info("scrollPos");e=0<d.duration?(i-g.start)/(g.end-g.start):i>=g.start?1:0,h.trigger("update",{startPos:g.start,endPos:g.end,scrollPos:i}),h.progress(e)}else b&&f===c&&D(!0);else s.updateScene(h,!1);return h},this.refresh=function(){return x(),S(),h},this.progress=function(t){if(arguments.length){var e=!1,i=f,n=s?s.info("scrollDirection"):"PAUSED",o=d.reverse||p<=t;if(0===d.duration?(e=p!=t,f=0==(p=t<1&&o?0:1)?a:c):t<0&&f!==a&&o?(f=a,e=!(p=0)):0<=t&&t<1&&o?(p=t,f=c,e=!0):1<=t&&f!==l?(p=1,f=l,e=!0):f!==c||o||D(),e){var r={progress:p,state:f,scrollDirection:n},u=f!=i,g=function(t){h.trigger(t,r)};u&&i!==c&&(g("enter"),g(i===a?"start":"end")),g("progress"),u&&f!==c&&(g(f===a?"start":"end"),g("leave"))}return h}return p};var b,w,C=function(){g={start:m+d.offset},s&&d.triggerElement&&(g.start-=s.info("size")*d.triggerHook),g.end=g.start+d.duration},x=function(t){if(r){var e="duration";T(e,r.call(h))&&!t&&(h.trigger("change",{what:e,newval:d[e]}),h.trigger("shift",{reason:e}))}},S=function(t){var i=0,n=d.triggerElement;if(s&&(n||0<m)){if(n)if(n.parentNode){for(var r=s.info(),a=o.get.offset(r.container),c=r.vertical?"top":"left";n.parentNode.hasAttribute(e);)n=n.parentNode;var l=o.get.offset(n);r.isDocument||(a[c]-=s.scrollPos()),i=l[c]-a[c]}else h.triggerElement(void 0);var u=i!=m;m=i,u&&!t&&h.trigger("shift",{reason:"triggerElementPosition"})}},E=function(t){0<d.triggerHook&&h.trigger("shift",{reason:"containerResize"})},P=o.extend(n.validate,{duration:function(t){if(o.type.String(t)&&t.match(/^(\.|\d)*\d+%$/)){var e=parseFloat(t)/100;t=function(){return s?s.info("size")*e:0}}if(o.type.Function(t)){r=t;try{t=parseFloat(r.call(h))}catch(e){t=-1}}if(t=parseFloat(t),!o.type.Number(t)||t<0)throw r&&(r=void 0),0;return t}}),I=function(t){(t=arguments.length?[t]:Object.keys(P)).forEach(function(t,e){var i;if(P[t])try{i=P[t](d[t])}catch(e){i=u[t]}finally{d[t]=i}})},T=function(t,e){var i=!1,n=d[t];return d[t]!=e&&(d[t]=e,I(t),i=n!=d[t]),i},j=function(t){h[t]||(h[t]=function(e){return arguments.length?("duration"===t&&(r=void 0),T(t,e)&&(h.trigger("change",{what:t,newval:d[t]}),-1<n.shifts.indexOf(t)&&h.trigger("shift",{reason:t})),h):d[t]})};this.controller=function(){return s},this.state=function(){return f},this.scrollOffset=function(){return g.start},this.triggerPosition=function(){var t=d.offset;return s&&(t+=d.triggerElement?m:s.info("size")*h.triggerHook()),t},h.on("shift.internal",function(t){var e="duration"===t.reason;(f===l&&e||f===c&&0===d.duration)&&D(),e&&A()}).on("progress.internal",function(t){D()}).on("add.internal",function(t){A()}).on("destroy.internal",function(t){h.removePin(t.reset)});var D=function(t){if(b&&s){var e=s.info(),i=w.spacer.firstChild;if(t||f!==c){var n={position:w.inFlow?"relative":"absolute",top:0,left:0},r=o.css(i,"position")!=n.position;w.pushFollowers?0<d.duration&&(f===l&&0===parseFloat(o.css(w.spacer,"padding-top"))?r=!0:f===a&&0===parseFloat(o.css(w.spacer,"padding-bottom"))&&(r=!0)):n[e.vertical?"top":"left"]=d.duration*p,o.css(i,n),r&&A()}else{"fixed"!=o.css(i,"position")&&(o.css(i,{position:"fixed"}),A());var u=o.get.offset(w.spacer,!0),h=d.reverse||0===d.duration?e.scrollPos-g.start:Math.round(p*d.duration*10)/10;u[e.vertical?"top":"left"]+=h,o.css(w.spacer.firstChild,{top:u.top,left:u.left})}}},A=function(){if(b&&s&&w.inFlow){var t=f===c,e=s.info("vertical"),i=w.spacer.firstChild,n=o.isMarginCollapseType(o.css(w.spacer,"display")),r={};w.relSize.width||w.relSize.autoFullWidth?o.css(b,t?{width:o.get.width(w.spacer)}:{width:"100%"}):(r["min-width"]=o.get.width(e?b:i,!0,!0),r.width=t?r["min-width"]:"auto"),w.relSize.height?o.css(b,t?{height:o.get.height(w.spacer)-(w.pushFollowers?d.duration:0)}:{height:"100%"}):(r["min-height"]=o.get.height(e?i:b,!0,!n),r.height=t?r["min-height"]:"auto"),w.pushFollowers&&(r["padding"+(e?"Top":"Left")]=d.duration*p,r["padding"+(e?"Bottom":"Right")]=d.duration*(1-p)),o.css(w.spacer,r)}},L=function(){s&&b&&f===c&&!s.info("isDocument")&&D()},O=function(){s&&b&&f===c&&((w.relSize.width||w.relSize.autoFullWidth)&&o.get.width(window)!=o.get.width(w.spacer.parentNode)||w.relSize.height&&o.get.height(window)!=o.get.height(w.spacer.parentNode))&&A()},N=function(t){s&&b&&f===c&&!s.info("isDocument")&&(t.preventDefault(),s._setScrollPos(s.info("scrollPos")-((t.wheelDelta||t[s.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-t.detail)))};this.setPin=function(t,i){if(i=o.extend({},{pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},i),!(t=o.get.elements(t)[0]))return h;if("fixed"===o.css(t,"position"))return h;if(b){if(b===t)return h;h.removePin()}var n=(b=t).parentNode.style.display,r=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];b.parentNode.style.display="none";var s="absolute"!=o.css(b,"position"),a=o.css(b,r.concat(["display"])),c=o.css(b,["width","height"]);b.parentNode.style.display=n,!s&&i.pushFollowers&&(i.pushFollowers=!1);var l=b.parentNode.insertBefore(document.createElement("div"),b),u=o.extend(a,{position:s?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(s||o.extend(u,o.css(b,["width","height"])),o.css(l,u),l.setAttribute(e,""),o.addClass(l,i.spacerClass),w={spacer:l,relSize:{width:"%"===c.width.slice(-1),height:"%"===c.height.slice(-1),autoFullWidth:"auto"===c.width&&s&&o.isMarginCollapseType(a.display)},pushFollowers:i.pushFollowers,inFlow:s},!b.___origStyle){b.___origStyle={};var d=b.style;r.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach(function(t){b.___origStyle[t]=d[t]||""})}return w.relSize.width&&o.css(l,{width:c.width}),w.relSize.height&&o.css(l,{height:c.height}),l.appendChild(b),o.css(b,{position:s?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(w.relSize.width||w.relSize.autoFullWidth)&&o.css(b,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",L),window.addEventListener("resize",L),window.addEventListener("resize",O),b.addEventListener("mousewheel",N),b.addEventListener("DOMMouseScroll",N),D(),h},this.removePin=function(t){if(b){if(f===c&&D(!0),t||!s){var i=w.spacer.firstChild;if(i.hasAttribute(e)){var n=w.spacer.style,r={};["margin","marginLeft","marginRight","marginTop","marginBottom"].forEach(function(t){r[t]=n[t]||""}),o.css(i,r)}w.spacer.parentNode.insertBefore(i,w.spacer),w.spacer.parentNode.removeChild(w.spacer),b.parentNode.hasAttribute(e)||(o.css(b,b.___origStyle),delete b.___origStyle)}window.removeEventListener("scroll",L),window.removeEventListener("resize",L),window.removeEventListener("resize",O),b.removeEventListener("mousewheel",N),b.removeEventListener("DOMMouseScroll",N),b=void 0}return h};var k,F=[];return h.on("destroy.internal",function(t){h.removeClassToggle(t.reset)}),this.setClassToggle=function(t,e){var i=o.get.elements(t);return 0!==i.length&&o.type.String(e)&&(0<F.length&&h.removeClassToggle(),k=e,F=i,h.on("enter.internal_class leave.internal_class",function(t){var e="enter"===t.type?o.addClass:o.removeClass;F.forEach(function(t,i){e(t,k)})})),h},this.removeClassToggle=function(t){return t&&F.forEach(function(t,e){o.removeClass(t,k)}),h.off("start.internal_class end.internal_class"),k=void 0,F=[],h},function(){for(var t in d)u.hasOwnProperty(t)||delete d[t];for(var e in u)j(e);I()}(),h};var n={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(t){if(t=parseFloat(t),!o.type.Number(t))throw 0;return t},triggerElement:function(t){if(t=t||void 0){var e=o.get.elements(t)[0];if(!e||!e.parentNode)throw 0;t=e}return t},triggerHook:function(t){var e={onCenter:.5,onEnter:1,onLeave:0};if(o.type.Number(t))t=Math.max(0,Math.min(parseFloat(t),1));else{if(!(t in e))throw 0;t=e[t]}return t},reverse:function(t){return!!t}},shifts:["duration","offset","triggerHook"]};t.Scene.addOption=function(t,e,i,o){t in n.defaults||(n.defaults[t]=e,n.validate[t]=i,o&&n.shifts.push(t))},t.Scene.extend=function(e){var i=this;t.Scene=function(){return i.apply(this,arguments),this.$super=o.extend({},this),e.apply(this,arguments)||this},o.extend(t.Scene,i),(t.Scene.prototype=i.prototype).constructor=t.Scene},t.Event=function(t,e,i,n){for(var o in n=n||{})this[o]=n[o];return this.type=t,this.target=this.currentTarget=i,this.namespace=e||"",this.timeStamp=this.timestamp=Date.now(),this};var o=t._util=function(t){var e,i={},n=function(t){return parseFloat(t)||0},o=function(e){return e.currentStyle?e.currentStyle:t.getComputedStyle(e)},r=function(e,i,r,s){if((i=i===document?t:i)===t)s=!1;else if(!h.DomElement(i))return 0;e=e.charAt(0).toUpperCase()+e.substr(1).toLowerCase();var a=(r?i["offset"+e]||i["outer"+e]:i["client"+e]||i["inner"+e])||0;if(r&&s){var c=o(i);a+="Height"===e?n(c.marginTop)+n(c.marginBottom):n(c.marginLeft)+n(c.marginRight)}return a},s=function(t){return t.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})};i.extend=function(t){for(t=t||{},e=1;e<arguments.length;e++)if(arguments[e])for(var i in arguments[e])arguments[e].hasOwnProperty(i)&&(t[i]=arguments[e][i]);return t},i.isMarginCollapseType=function(t){return-1<["block","flex","list-item","table","-webkit-box"].indexOf(t)};var a=0,c=["ms","moz","webkit","o"],l=t.requestAnimationFrame,u=t.cancelAnimationFrame;for(e=0;!l&&e<4;++e)l=t[c[e]+"RequestAnimationFrame"],u=t[c[e]+"CancelAnimationFrame"]||t[c[e]+"CancelRequestAnimationFrame"];l||(l=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-a)),o=t.setTimeout(function(){e(i+n)},n);return a=i+n,o}),u||(u=function(e){t.clearTimeout(e)}),i.rAF=l.bind(t),i.cAF=u.bind(t);var h=i.type=function(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};h.String=function(t){return"string"===h(t)},h.Function=function(t){return"function"===h(t)},h.Array=function(t){return Array.isArray(t)},h.Number=function(t){return!h.Array(t)&&0<=t-parseFloat(t)+1},h.DomElement=function(t){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?t instanceof HTMLElement||t instanceof SVGElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName};var d=i.get={};return d.elements=function(e){var i=[];if(h.String(e))try{e=document.querySelectorAll(e)}catch(e){return i}if("nodelist"===h(e)||h.Array(e)||e instanceof NodeList)for(var n=0,o=i.length=e.length;n<o;n++){var r=e[n];i[n]=h.DomElement(r)?r:d.elements(r)}else(h.DomElement(e)||e===document||e===t)&&(i=[e]);return i},d.scrollTop=function(e){return e&&"number"==typeof e.scrollTop?e.scrollTop:t.pageYOffset||0},d.scrollLeft=function(e){return e&&"number"==typeof e.scrollLeft?e.scrollLeft:t.pageXOffset||0},d.width=function(t,e,i){return r("width",t,e,i)},d.height=function(t,e,i){return r("height",t,e,i)},d.offset=function(t,e){var i={top:0,left:0};if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect();i.top=n.top,i.left=n.left,e||(i.top+=d.scrollTop(),i.left+=d.scrollLeft())}return i},i.addClass=function(t,e){e&&(t.classList?t.classList.add(e):t.className+=" "+e)},i.removeClass=function(t,e){e&&(t.classList?t.classList.remove(e):t.className=t.className.replace(RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))},i.css=function(t,e){if(h.String(e))return o(t)[s(e)];if(h.Array(e)){var i={},n=o(t);return e.forEach(function(t,e){i[t]=n[s(t)]}),i}for(var r in e){var a=e[r];a==parseFloat(a)&&(a+="px"),t.style[s(r)]=a}},i}(window||{});return t});